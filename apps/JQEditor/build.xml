<project name="JQEditor" default="jar-jqeditor" basedir=".">
	<!-- project's properties -->
	<property name="lib" value="lib"/>
	<property name="src" value="src"/>			
	<property name="dist" value="dist"/>
	<property name="out" value="out"/>
	<property name="out.classes" value="out"/>
	<property name="out.lib" value="out"/>
	
	
	<!-- clean -->
	<target name="clean">
		<delete dir="${out}"/>
	</target>

	<!-- init -->
	<target name="init" depends="clean">
		<mkdir dir="${out}"/>
		<mkdir dir="${out.classes}"/>
		<mkdir dir="${out.lib}"/>
		<mkdir dir="${dist}"/>

		<path id="classpath">
			<fileset dir="${lib}">
				<include name="*.jar" />
			</fileset>
		</path>
	</target>

	<!-- COMPILE -->
	<target name="build" depends="init" description="compil all java classes">
	 	<javac 	compiler="gcj"
			srcdir="${src}"
	 		destdir="${out}">
	 		<classpath refid="classpath" />
	 	</javac>
	</target>
		
	<!-- JAR -->
	<target name="jar-jqeditor" depends="build">
		<jar destfile="${dist}/jqeditor.jar" >
			<fileset dir="${out.classes}">
				<include name="**"/>
			</fileset>
		</jar>
	</target>
	
	<!-- all -->
	<target name="all" depends="clean,build">
		<antcall target="jar-jqeditor"/>
	</target>
	<target name="run" description="RUN the program">
		<java classname="org.qsos.main.JQ">
			<classpath>
				<path refid="classpath"/>
				<pathelement location="${dist}/jqeditor.jar"/>
			</classpath>
		</java>
	</target>
	<copy todir="${out}">
		<fileset dir="${src}">
			<exclude name="**/*.java"/>
		</fileset>
	</copy>
</project>
